<div class="memory-card" @onclick="OnClickAsync" style="cursor:@(IsEnabled ? "pointer" : "not-allowed")">
    @if (Card.IsFlipped || Card.IsMatched)
    {
        <div class="memory-card-front"
             style="background-color:@Card.Color.GetBackground(); color:@Card.Color.GetTextColor();">
            @Card.Number
        </div>
    }
    else
    {
        <div class="memory-card-back">
            ?
        </div>
    }
</div>



@code {

    [Parameter] public Card Card { get; set; }
    [Parameter] public EventCallback<Card> OnFlip { get; set; }
    [Parameter] public bool IsEnabled { get; set; } = true;

    private async Task OnClickAsync()
    {
        if(!IsEnabled) return;
        if (Card.IsMatched || Card.IsFlipped) return;

        Card.IsFlipped = true;
        await OnFlip.InvokeAsync(Card);
    }

}